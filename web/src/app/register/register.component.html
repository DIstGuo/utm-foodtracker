<div class="container mt-4 p-5 shadow-lg">
  <h2 class="mb-5 text-primary">Hi, new user!</h2>
  <div class="form-row">
    <div class="form-group col-md-6 col-sm-12">
      <label for="userName">Username</label>
      <input [(ngModel)]="username" type="text" [ngClass]="{
        'is-valid': username != '' && validateUsername(),
        'is-invalid': username != '' && !validateUsername()
      }" class="form-control" id="userName" aria-describedby="usernameHelp">
      <small id="usernameHelp" class="form-text text-muted">
        Username can only be alphanumeric
      </small>
    </div>
  </div>
  <div class="form-row">
    <div class="form-group col-sm-12 col-md-6">
      <label for="emailAddress"><i class="fa fa-fw fa-envelope"></i> Email address</label>
      <input [(ngModel)]="email" type="email" [ngClass]="{
        'is-valid': email != '' && validateEmail(),
        'is-invalid': email != '' && !validateEmail()
      }" class="form-control" id="emailAddress" aria-describedby="emailHelp" required>
      <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
    </div>
    <div class="form-group col-sm-12 col-md-6">
      <label for="phoneNumber"><i class="fa fa-fw fa-phone"></i> Phone Number</label>
      <input [(ngModel)]="phone" type="text" [ngClass]="{
        'is-valid': phone != '' && validatePhone(),
        'is-invalid': phone != '' && !validatePhone()
      }" class="form-control" id="phoneNumber" aria-describedby="phonesHelp">
      <small id="phoneHelp" class="form-text text-muted">
        Please provide 10 digits phone number
      </small>
    </div>
  </div>
  <div class="form-row">
    <div class="form-group col-6">
      <label for="gender"> Gender</label>
      <select [(ngModel)]="gender" id="gender" class="form-control">
        <option selected>male</option>
        <option>female</option>
      </select>
    </div>
    <div class="form-group col-6">
      <label for="birth"> Birth</label>
      <input [(ngModel)]="birth" type="text" [ngClass]="{
        'is-valid': birth != '' && validateBirth(),
        'is-invalid': birth != '' && !validateBirth()
      }" class="form-control" id="birth" aria-describedby="birthHelp">
      <small id="birthHelp" class="form-text text-muted">
        YYYY-MM-DD
      </small>
    </div>
  </div>
  <div class="form-group">
    <label for="passwordInput">Password</label>
    <input [(ngModel)]="password" type="password" [ngClass]="{
      'is-valid': password != '' && validatePassword(),
      'is-invalid': password != '' && !validatePassword()
    }" class="form-control" id="passwordInput" aria-describedby="passwordHelp">
    <small id="passwordHelp" class="form-text text-muted">
      Minimum eight characters, at least one letter, one number and one special character
    </small>
  </div>
  <div class="form-group">
    <label for="confirmPassword">Confirm password</label>
    <input [(ngModel)]="confPassword" type="password" [ngClass]="{
      'is-valid': confPassword != '' && validatePassword() && duplicateConfirmation(),
      'is-invalid': confPassword != '' && (!validatePassword() || !duplicateConfirmation())
    }" class="form-control" id="confirmPassword" aria-describedby="confHelp">
    <small id="confHelp" class="form-text text-muted">
      Both password fields should match
    </small>
  </div>
  <button (click)="registerUser()" type="submit" class="btn btn-primary" [disabled]="!validateFields() || existsEmptyFields()">Register</button>
  <div *ngIf="success && showAlert" class="mt-3">
    <div class="alert alert-success" role="alert">
      {{confMessage}}
    </div>
  </div>
  <div *ngIf="!success && showAlert" class="mt-3">
    <div class="alert alert-danger" role="alert">
      {{confMessage}}
    </div>
  </div>
</div>
